"use strict";var alt=alt||{};alt.route=angular.module("alt.route",["ng"]),function(n){n.service("altControllerChecker",["$controller",function(n){return{exists:function(t){if(typeof window[t]=="function")return!0;try{return n(t),!0}catch(i){return!(i instanceof TypeError)}}}}]);n.provider("altRouteConfig",[function(){var n=this;n.viewCache={};n.viewUrlMethod=function(n,t){return"/views/"+n+"/"+t+".html"};n.setViewUrlMethod=function(t){return n.viewUrlMethod=t,n};n.$get=function(){return n}}]);n.directive("altView",["$location","$controller","$compile","$rootScope","$http","altControllerChecker","altRouteConfig",function(n,t,i,r,u,f,e){return{restrict:"A",link:function(t,r){r.removeAttr("data-alt-view");r.removeAttr("alt-view");n.$$path==""&&n.path("/");t.$watch(function(){return n.$$path},function(n){t.$broadcast("$routeChangeStart",n)});t.$on("$routeChangeStart",function(o,s){var h,v,y,c,l,a;if(s=s.toLowerCase(),h=s==="/"?["home","index"]:s==="/home"||s==="/home/"?["home","index"]:s.substr(1).split("/"),h[h.length-1]===""&&h.splice(h.length-1,1),h.length===1&&(h[1]="index"),h.length===0&&n.path("/"),n.$$route={},n.$$route.$$routeController=h[0]+"Controller",n.$$route.$$routeAction=h[1]+"Action",n.$$route.$$routeParams=[],h.length>2)for(v=2;v<h.length;v++)n.$$route.$$routeParams.push(h[v]);if(y=f.exists(n.$$route.$$routeController),y){for(r.attr("data-ng-controller",n.$$route.$$routeController),c=n.$$route.$$routeAction+"(",l=0;l<n.$$route.$$routeParams.length;l++)c+="'"+n.$$route.$$routeParams[l]+"'",l<n.$$route.$$routeParams.length-1&&(c+=", ");c+=");";r.attr("data-ng-init",c)}else r.removeAttr("data-ng-controller"),r.removeAttr("ng-controller");a=e.viewUrlMethod(h[0],h[1],n.$$route.$$routeParams).toLowerCase();e.viewCache[a]?(r.html(e.viewCache[a]),i(r)(t),t.$broadcast("$routeChangeSuccess",n.$$route)):u.get(a).success(function(u){e.viewCache[a]=u;r.html(u);i(r)(t);t.$broadcast("$routeChangeSuccess",n.$$route)}).error(function(){t.$broadcast("$routeChangeError",n.$$route)})})}}}])}(alt.route);
/*
//# sourceMappingURL=alt.route.min.js.map
*/